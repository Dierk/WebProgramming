<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Functions</title>
</head>
<body>

    <script>

        function hasNoReturn(s) {
            s
        }
        function hasReturn(s) {
            return s;
        }
        function any(x) {
            return function (y) {
                return x + y;
            }
        }

        const lambdaFun1 = s => s;
        const lambdaFun2 = (x,y) => x+y;
        const lambdaFun3 = x => y => x+y ;
        const lambdaFun4 = x => y => {
            return x+y ;
        };

        // atoms

        const id    = x => x;
        const konst = x => y => x;

        const F1 = x => (x => x);
        const F2 = y => (x => y);

        // alpha: rename parameter
        // beta:  function call, inline parameter
        // eta:   kÃ¼rzen, curry, partial application

        // derived
        // const T = x => y => konst(x)(y); // eta
        // const T = x => konst(x);         // eta
        const T = konst;
        //const F = x => y => y;              // simplest atomic solution // extend with id
        //const F = x => y => id(y);          // eta y
        //const F = x => id;                  // extend with konst
        const F = x => konst(id)(x);          // eta x

        //const F = x => y => konst(id)(x)(y); // eta
        //const F = x => konst(id)(x); // eta
        //const F = konst(id);

        // Pair - Prototypical Product
        const P   = a => b => f => f(a)(b);
        const fst = p => p(T);
        const snd = p => p(F);

        const pairOneTwo = P(1)(2);
        document.writeln( fst(pairOneTwo) === 1);
        document.writeln( snd(pairOneTwo) === 2);

        // Sum Type
        const Left   = x => f => g => f (x) ;
        const Right  = x => f => g => g (x) ;
        const either = e => f => g => e (f) (g);

        const left = Left(true);
        document.writeln( either (left) (id) (konst(false)) );

        const right = Right(true);
        document.writeln( either (right) (konst(false)) (id) );


        // IIFE
        ( function() {
            let x = true;
            document.writeln(x);
        })();

        try { // test x is not in scope
            x;
            document.writeln(false)
        } catch (e) {
            document.writeln(true)
        }


        document.writeln( hasNoReturn(1) === undefined);
        document.writeln( hasReturn(1) === 1);

        document.writeln( lambdaFun1(1) === 1);
        document.writeln( lambdaFun2(1,1) === 2);
        document.writeln( lambdaFun3(1)(1) === 2);
        document.writeln( lambdaFun4(1)(1) === 2);
        document.writeln( any(1)(1) === 2);




    </script>

</body>
</html>